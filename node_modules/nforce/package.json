{
  "author": {
    "name": "Kevin O'Hara",
    "email": "kevnohara80@gmail.com",
    "url": "http://kevinmohara.com"
  },
  "name": "nforce",
  "description": "nforce is a REST API wrapper for force.com, database.com, and salesforce.com",
  "version": "1.5.0",
  "keywords": [
    "salesforce",
    "salesforce.com",
    "force.com",
    "database.com",
    "sfdc",
    "forcedotcom",
    "rest",
    "api"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/kevinohara80/nforce.git"
  },
  "main": "index.js",
  "dependencies": {
    "bluebird": "^2.3.11",
    "faye": "1.1.0",
    "lodash": "^3.10.1",
    "mime": "1.2.11",
    "request": "^2.49.0"
  },
  "devDependencies": {
    "body-parser": "1.0.2",
    "cookie-parser": "1.0.1",
    "express": "4.1.1",
    "express-session": "1.0.4",
    "gulp": "^3.9.0",
    "gulp-jshint": "^1.9.0",
    "jade": "1.3.1",
    "jshint-stylish": "^2.1.0",
    "mocha": "^2.2.5",
    "run-sequence": "^1.0.2",
    "should": "3.3.1"
  },
  "optionalDependencies": {},
  "engines": {
    "node": "*"
  },
  "bugs": {
    "url": "http://github.com/kevinohara80/nforce/issues"
  },
  "scripts": {
    "test": "./node_modules/mocha/bin/mocha ./test --reporter spec"
  },
  "license": {
    "type": "MIT",
    "url": "http://opensource.org/licenses/MIT"
  },
  "readme": "nforce :: node.js salesforce REST API wrapper\n======\n\n[![Build Status](https://secure.travis-ci.org/kevinohara80/nforce.png)](http://travis-ci.org/kevinohara80/nforce)\n\n**nforce** is node.js a REST API wrapper for force.com, database.com,\nand salesforce.com.\n\n## Features\n\n* Simple api\n* Intelligent sObjects\n* Helper OAuth methods\n* Simple streaming\n* Multi-user design with single user mode\n* Plugin support\n\n## Installation\n\n```bash\n$ npm install nforce\n```\n\n## Usage\n\nRequire **nforce** in your app and create a client connection to a\nSalesforce Remote Access Application.\n\n```js\nvar nforce = require('nforce');\n\nvar org = nforce.createConnection({\n  clientId: 'SOME_OAUTH_CLIENT_ID',\n  clientSecret: 'SOME_OAUTH_CLIENT_SECRET',\n  redirectUri: 'http://localhost:3000/oauth/_callback',\n  apiVersion: 'v27.0',  // optional, defaults to current salesforce API version\n  environment: 'production',  // optional, salesforce 'sandbox' or 'production', production default\n  mode: 'multi' // optional, 'single' or 'multi' user mode, multi default\n});\n```\n\nNow we just need to authenticate and get our salesforce OAuth\ncredentials. Here is one way to do this in multi-user mode...\n\n```js\n// multi user mode\nvar oauth;\norg.authenticate({ username: 'my_test@gmail.com', password: 'mypassword'}, function(err, resp){\n  // store the oauth object for this user\n  if(!err) oauth = resp;\n});\n```\n\n...or in single-user mode...\n\n```js\n// single-user mode\norg.authenticate({ username: 'my_test@gmail.com', password: 'mypassword'}, function(err, resp){\n  // the oauth object was stored in the connection object\n  if(!err) console.log('Cached Token: ' + org.oauth.access_token)\n});\n```\n\nNow we can go nuts. **nforce** has an salesforce sObject factory\nmethod that creates records for you. Let's use that and insert a\nrecord...\n\n```js\nvar acc = nforce.createSObject('Account');\nacc.set('Name', 'Spiffy Cleaners');\nacc.set('Phone', '800-555-2345');\nacc.set('SLA__c', 'Gold');\n\norg.insert({ sobject: acc, oauth: oauth }, function(err, resp){\n  if(!err) console.log('It worked!');\n});\n```\n\nIf you are in single-user mode, the `oauth` argument can be ommitted\nsince it's cached as part of your connection object.\n\n```js\norg.insert({ sobject: acc }, function(err, resp){\n  if(!err) console.log('It worked!');\n});\n```\n\nQuerying and updating records is super easy. **nforce** wraps\nAPI-queried records in a special object. The object caches field\nupdates that you make to the record and allows you to pass the\nrecord directly into the update\nmethod without having to scrub out the unchanged fields. In the\nexample below, only the Name and Industry fields will be sent in the\nupdate call despite the fact that the query returned other fields\nsuch as BillingCity and CreatedDate.\n\n```js\nvar q = 'SELECT Id, Name, CreatedDate, BillingCity FROM Account WHERE Name = \"Spiffy Cleaners\" LIMIT 1';\n\norg.query({ query: q }, function(err, resp){\n\n  if(!err && resp.records) {\n\n    var acc = resp.records[0];\n    acc.set('Name', 'Really Spiffy Cleaners');\n    acc.set('Industry', 'Cleaners');\n\n    org.update({ sobject: acc, oauth: oauth }, function(err, resp){\n      if(!err) console.log('It worked!');\n    });\n\n  }\n});\n```\n\n## Using the Example Files\n\nMost of the files in the examples directory can be used by simply\nsetting two environment variables then running the files. The two\nenvironment variables are `SFUSER` and `SFPASS` which are your\nSalesforce.com username and passsword, respectively. Example below:\n\n```bash\n$ export SFUSER=myusername@salesforce.com\n$ export SFPASS=mypassword\n$ node examples/crud.js\n```\n\n## Authentication\n\n**nforce** supports three Salesforce OAuth 2.0 flows,\nusername/password, Web Server and User-Agent.\n\n### Username/Password flow\n\nTo request an access token and other oauth information using the\nusername and password flow, use the `authenticate()` method and pass\nin your username, password and security token in the options.\n\n**Note:** A security token can be generated from the Salesforce\ndashboard under: Account Name > Setup > My Personal Information >\nReset My Security Token.\n\n```js\nvar username      = 'my_test@gmail.com',\n    password      = 'mypassword',\n    securityToken = 'some_security_token',\n    oauth;\n\norg.authenticate({ username: username, password: password, securityToken: securityToken }, function(err, resp){\n  if(!err) {\n    console.log('Access Token: ' + resp.access_token);\n    oauth = resp;\n  } else {\n    console.log('Error: ' + err.message);\n  }\n});\n```\n\nThe Salesforce website suggests appending the security token to the\npassword in order to authenticate. This works, but using the\n`securityToken` parameter as shown above is cleaner. Here's why the\nsecurity token is necessary, from the [Salesforce Website][sf]:\n\n> The security token is an automatically generated key that must be\nadded to the end of the password in order to log in to Salesforce\nfrom an untrusted network. You must concatenate their password and\ntoken when passing the request for authentication.\n\n[sf]: http://help.salesforce.com/apex/HTViewHelpDoc?id=remoteaccess_oauth_username_password_flow.htm&language=en_US\n\n### Web Server Code Flow\n\nTo perform an authorization code flow, first redirect users to the\nAuthorization URI at Salesforce. **nforce** provides a helper\nfunction to build this url for you.\n\n```js\norg.getAuthUri();\n```\n\nAn example of using this function in a typical node route would be:\n\n```js\napp.get('/auth/sfdc', function(req,res){\n  res.redirect(org.getAuthUri());\n});\n```\n\nOnce you get a callback at the Redirect URI that you specify, you\nneed to request your access token and other important oauth\ninformation by calling\n`authenticate()` and passing in the \"code\" that you received.\n\n```js\nvar oauth;\n\norg.authenticate({ code: 'SOMEOAUTHAUTHORIZATIONCODE' }, function(err, resp){\n  if(!err) {\n    console.log('Access Token: ' + resp.access_token);\n    oauth = resp;\n  } else {\n    console.log('Error: ' + err.message);\n  }\n});\n```\n\nAn example of using this function in a typical node route and populating the code from the request would be:\n\n```js\napp.get('/auth/sfdc/callback', function(req, res) {\n  org.authenticate({code: req.query.code}, function(err, resp){\n    if(!err) {\n      console.log('Access Token: ' + resp.access_token);\n    } else {\n      console.log('Error: ' + err.message);\n    }\n  });\n});\n```\n\n### User-Agent Flow\n\nThe user-agent flow simply redirects to your `redirectUri` after the\nuser authenticates and logs in. The `getAuthUri()` method can be\nused similar to the Web Server flow but a responseType property must\nbe set to `token`.\n\n```js\norg.getAuthUri({ responseType: 'token' });\n```\n\n### OAuth Object\n\nAt the end of a successful authorization, you are returned an OAuth\nobject for the user. This object contains your salesforce access\ntoken, endpoint, id, and other information.  If you have `mode` set\nto `multi`, cache this object for the user as it will be used for\nsubsequent requests. If you are in `single` user mode, the OAuth\nobject is stored as a property on your salesforce connection object.\n\n### OAuth Object De-Coupling (Multi-user mode)\n\n**nforce** decouples the oauth credentials from the connection\nobject when `mode` is set to `multi` so that in a multi-user\nsituation, a separate connection object doesn't need to be created\nfor each user. This makes the\nmodule more efficient. Essentially, you only need one connection\nobject for multiple users and pass the OAuth object in with the\nrequest. In this scenario, it makes the most sense to store the\nOAuth credentials in the users session or in some other data store.\nIf you are using [express](https://github.com/visionmedia/express),\n**nforce** can take care of storing this for you (see Express\nMiddleware).\n\n### Integrated OAuth Object (Single-user mode)\n\nIf you specified `single` as your `mode` when creating the\nconnection, calling authenticate will store the OAuth object within\nthe connection object. Then, in subsequent API requests, you can\nsimply omit the OAuth object from the request like so.\n\n```js\n// look ma, no oauth argument!\norg.query({ query: 'SELECT Id FROM Lead LIMIT 1' }, function(err, res) {\n  if(err) return console.error(err);\n  else return console.log(res.records[0]);\n});\n```\n\n### Access Token Auto-Refreshes\n\n**nforce** provides an optional, built-in function for\nauto-refreshing access tokens when able it's able to. This requires\nyou are using the web-server flow and you've requested the right\nscope that returns you a refresh_token. The username/password flow\nis also supported if using single-user mode.\n\nTo enable auto-refreshes, you just need to set the `autoRefresh`\nargument when creating your connection...\n\n```js\nvar nforce = require('nforce');\n\nvar org = nforce.createConnection({\n  clientId: 'SOME_OAUTH_CLIENT_ID',\n  clientSecret: 'SOME_OAUTH_CLIENT_SECRET',\n  redirectUri: 'http://localhost:3000/oauth/_callback',\n  apiVersion: 'v29.0',\n  environment: 'production',\n  mode: 'multi',\n  autoRefresh: true // <--- set this to true\n});\n```\n\nNow when you make requests and your access token is expired,\n**nforce** will automatically refresh your access token from\nSalesforce and re-try your original request...\n\n```js\nconsole.log('old token: ' + oauth.access_token);\norg.query({ query: 'SELECT Id FROM Account LIMIT 1', oauth: oauth }, function(err, records){\n  if(err) throw err;\n  else {\n    console.log('query completed with token: ' + oauth.access_token); // <--- if refreshed, this should be different\n    res.send(body);\n  }\n});\n```\n\n**NOTE:** If you're using express and storing your oauth in the\nsession, if you pass in your session oauth directly, it's going to\nbe updated automatically by nforce since the autoRefresh function\nmutates the oauth object that's\npassed in.\n\nThere's also a handy callback function called `onRefresh` that can\nbe added to your connection that will execute when any request\ntriggers an auto-refresh of your access token. This makes keeping\nstored credentials up-to-date a breeze. Here's a pseudo-example of\nhow that would work.\n\n```js\nvar nforce = require('nforce');\n\nvar org = nforce.createConnection({\n  clientId: 'SOME_OAUTH_CLIENT_ID',\n  clientSecret: 'SOME_OAUTH_CLIENT_SECRET',\n  redirectUri: 'http://localhost:3000/oauth/_callback',\n  apiVersion: 'v29.0',\n  environment: 'production',\n  mode: 'multi',\n  autoRefresh: true, // <--- set this to true\n  onRefresh: function(newOauth, oldOauth, cb) {\n    // find outdated access tokens in the db and update them\n    mydb.findOauthByAccessToken(oldOauth.access_token, function(err, oauth) {\n      oauth.access_token = newOauth.access_token;\n      oauth.save();\n      // make sure you call the callback from the onRefresh function\n      cb();\n    });\n  }\n});\n```\n\n## Other Features\n\n### Force.com Streaming API Support\n\n**nforce** supports the Force.com Streaming API. Connecting to one of\nyour PushTopics is easy using nforce. Here's how you create a\nstreaming client and subscribe to a PushTopic.\n\n```js\norg.authenticate({ username: user, password: pass }, function(err, oauth) {\n\n  if(err) return console.log(err);\n\n  var client = org.createStreamClient();\n\n  console.log('subscribing to ' + logs._topic);\n  var accs = client.subscribe({ topic: 'NewAccounts' });\n\n  accs.on('error', function(err) {\n    console.log('subscription error');\n    console.log(err);\n    client.disconnect();\n  });\n\n  accs.on('data', function(data) {\n    console.log(data);\n  });\n\n});\n```\n\nThere is also a short-hand method for creating a client and a\nsubscription right from your nforce connection object. You can\naccess the underlying client from the subscription object.\n\n```js\nvar accs = org.subscribe({ topic: 'NewAccounts' });\n\n// close the client after 5 seconds\nsetTimeout(function(){\n  accs.client.disconnect();\n}, 5000);\n```\n\nWhen you are done with your subscription you can close it. You can\nalso disconnect the client connection.\n\n```js\naccs.cancel();\nclient.disconnect();\n```\n\n### Plugins\n\nAs of **nforce** v0.7.0, a plugin API is now exposed so that the\ncapabilities of nforce can easily be extended. This plugin system\nalso allows the core of nforce to remain small, handling mostly\nauthentication, CRUD, query, search,and other basic API requests.\nAs Salesforce releases additional API's or as authors find\ninteresting ways to extend nforce, these can easily be built into\nplugins and added to your nforce configuration as-needed.\n\nTo use plugins in your application, you'll need to load them\ninto nforce and specify which plugins to use when creating a\nconnection object. Here is an example.\n\n```js\nvar nforce = require('nforce');\n\n// load the plugin\nrequire('myplugin')(nforce);\n\nvar org = nforce.createConnection({\n  clientId:     process.env.CLIENT_ID,\n  clientSecret: process.env.CLIENT_SECRET,\n  redirectUri: 'http://localhost:3000/oauth/_callback',\n  plugins:     ['myplugin'] // make sure you enable it when creating a connection\n});\n\norg.myplugin.getSomeData(function(err, data) {\n  console.log(data);\n});\n```\n\nYou'll notice that the plugins methods are all namespaced. This is\nto prevent method naming conflicts between plugins. As a\nbest-practice, plugin authors should make their namespace the same\nas the module name but it's best to refer\nto their documentation for the exact namespace when using their\nplugin.\n\nHere is a list of some available plugins today:\n\n* [nforce-tooling](https://github.com/jeffdonthemic/nforce-tooling) Tooling API support\n* [nforce-chatter](https://github.com/jeffdonthemic/nforce-chatter) Chatter API support\n* [nforce-metadata](https://github.com/kevinohara80/nforce-metadata) Metadata API support\n* [nforce-express](https://github.com/kevinohara80/nforce-express) Express.js plugin for\nOAuth authentication helpers\n\nDocumentation on authoring plugins is coming soon...\n\n## nforce API Basics\n\n### Callbacks\n\nThe API of **nforce** follows typical node.js standards. Callbacks\nwill always pass an optional error object, and a response object. The\nresponse object closely resembles the typical responses from the\nSalesforce REST API.\n\n```js\nvar myCallback = function(err, resp);\n\norg.getUrl(url, myCallback);\n```\n\n### Promises\n\n**nforce** also supports promises based on\n[Bluebird](https://github.com/petkaantonov/bluebird). When no\ncallback is supplied to an asynchronous method (like an api call),\na promise will be returned. This makes control-flow very simple.\n\n```js\norg.authenticate({ username: un, password: pw }).then(function(){\n  return org.getResources();\n}).then(function(resources) {\n  console.log('resources: ' + resources);\n}).error(function(err) {\n  console.error('there was a problem');\n});\n```\n\n## nforce Base Methods\n\n### createConnection(opts)\n\nThe createConnection method creates an *nforce* salesforce connection\nobject.\nYou need to supply some arguments including oauth information and\nsome optional arguments for version and salesforce environment type.\n\n* `clientId`: (String:Required) This is the OAuth client id\n* `clientSecret`: (String:Required) This is the OAuth client secret\n* `redirectUri`: (String:Required) This is the redirect URI for OAuth\ncallbacks\n* `apiVersion`: (String|Number:Required) This is a number or string\nrepresenting a valid REST API version. Default is the latest current\napi version.\n* `environment`: (String:Optional) Values can be 'production' or\n'sandbox'.\nDefault is production.\n* `authEndpoint`: (String:Optional) Used to override the\nauthentication endpoint for production environments.\n* `testAuthEndpoint`: (String:Optional) Used to override the\nauthentication endpoint for production environments.\n* `loginUri`: (String:Optional) Used to override the login URI if\nneeded.\n* `testLoginUri`: (String:Optional) Used to override the testLoginUri\nif needed.\n* `gzip`: (Boolean:Optional) If set to boolean 'true', then *nforce*\nwill request that salesforce compress responses (using gzip) before\ntransmitting over-the-wire.\n* `autoRefresh`: (Boolean:Optional) If set to boolean 'true',\n*nforce* will auto-refresh your oauth access token if it tries a\nrequest and fails due to an expired token. Only works with web oauth\nand username/password flows.\n* `onRefresh`: (Function:Optional) This is a function that is called\nwhen a request going through the connection triggers an auto-refresh.\nThis hook is handy for updating your oauth tokens in a database or\nother store. The function is passed three arguments `newOauth`,\n`oldOauth`, and a `callback`\nfunction. The callback must be called with either an error or null\nvalue.\n* `timeout`: (Number:Optional) Integer containing the number of\nmilliseconds\nto wait for a request to respond before aborting the request.\n* `username`: (String:Optional) The username to be used\nfor the connection (single-user mode only)\n* `password`: (String:Optional) The password to be used\nfor the connection (single-user mode only)\n* `securityToken`: (String:Optional) The security token to be used\nfor the connection (single-user mode only)\n* `oauth`: (Object:Optional) The oauth object to be used for the\nconnection (single-user mode only)\n\n### createSObject(type, [fieldValues])\n\nThis creates an sObject record that you can use to insert, update,\nupsert, and delete. `type` should be the salesforce API name of the\nsObject that you are updating. `fieldValues` should be a hash of\nfield names and values that you want to initialize your sObject with.\nYou can also just assign fields and values by setting properties\nafter you create the sObject.\n\n## plugin(namespace|opts)\n\nThis creates an nforce plugin. Plugins allow you to extend the\nfunctionality of nforce. You need to initialize the plugin with a\n`namespace` or an options hash containing a namespace. Valid options\ninclude:\n\n* `namespace`: (String:Required) This sets the namespace for your\nplugin\n* `override`: (Boolean:Optional) Override *true* allows you to\noverwrite an existing plugin. Default is false.\n\n## Salesforce sObject Methods\n\n### get(field)\n\nGet the value of a field on the sObject\n\n### set(field, value) OR set(hash)\n\nSet the value of a single field (field, value) or set multiple\nfields using a hash.\n\n### getId()\n\nGet the Id of the sObject\n\n### setId(id)\n\nSet the Id of the sObject\n\n### getType()\n\nReturns the sObject type in lowercase\n\n### isType(type)\n\nChecks the type of the sObject and returns true|false\n\n### getExternalId()\n\nReturns the external id that is currently set\n\n### getExternalIdField()\n\nReturns the external id field that is currently set\n\n### setExternalId(field, value)\n\nFor upsert methods, you need to specify the External Id field and the\nvalue that you are trying to match on.\n\n### getAttachment()\n\nReturns the attachment object if set\n\n### setAttachement(fileName, body)\n\nSets the fileName (String) and body (buffer) for an attachment\n\n### getFileName()\n\nReturns the file name of the attachment if set\n\n### setFileName(fileName)\n\nSets the file name of the attachment\n\n### getBody\n\nGets the body of the attachment if set\n\n### setBody\n\nSets the body of the attachment\n\n### hasChanged(field)\n\nChecks to see if the field has been changed since the last save on\nthe server\n\n### changed()\n\nReturns a hash of the changed fields and their current values\n\n### previous()\n\nReturns a hash of the previous values for changed fields\n\n### toJSON()\n\nReturns a JSON representation of the fields in the sObject\n\n## Connection Methods\n\nThe following list of methods are available for an **nforce**\nconnection object.\n\nPlease note that you may pass custom `headers` to any of the requests\nthat support an `opts` hash. Here is an example:\n\n```js\nvar headers = {\n  'sforce-auto-assign': '1'\n};\n\norg.insert({ oauth: oauth, sobject: so, headers: headers }, function(err, record) {\n  // callback\n});\n```\n\n### getAuthUri([opts])\n\nThis is a helper method to build the authentication uri for a\nauthorization code OAuth 2.0 flow. You can optionally pass in an\nOAuth options argument. The supported options are:\n* `responseType`: (String:Optional) Any valid response_type that is\nsupported by Salesforce OAuth 2.0. Default is `code`.\n* `authEndpoint`: (String:Optional) Override the auth endpoint to\nuse for the token request\n* `display`: (String:Optional) Tailors the login page to the user's\ndevice type. Currently the only values supported are `page`,\n`popup`, and `touch`\n* `immediate`: (Boolean:Optional) Avoid interacting with the user.\nDefault is false.\n* `scope`: (Array:Optional) The scope parameter allows you to\nfine-tune what the client application can access. Supported values\nare `api`, `chatter_api`,\n`full`, `id`, `refresh_token`, `visualforce`, and `web`\n* `state`: (String:Optional) Any value that you wish to be sent\nwith the callback\n* `nonce`: (String:Optional) Optional with the openid scope for\ngetting a user ID token\n* `prompt`: (String|Array:Optional) Specifies how the authorization\nserver\nprompts the user for re-authentication and reapproval. Values are\n`login`,\n`consent` or both in the form of an array.\n* `loginHint`: (String:Optional) Provide a valid username value with\nthis parameter to pre-populate the login page with the username.\n* `urlOpts`: (Object:Optional) Specify any other url arguments to\ninclude in the request.\n\n### authenticate(opts, [callback])\n\nThis method requests the OAuth access token and instance information\nfrom Salesforce or Force.com. This method either requires that you\npass in the authorization code (authorization code flow), username and\npassword (username/password flow), or a SAML assertion (SAML Bearer\nAssertion Flow).\n\n* `code`: (String:Optional) An OAuth authorization code\n* `username`: (String:Optional) Your\nsalesforce/force.com/database.com username\n* `password`: (String:Optional) Your\nsalesforce/force.com/database.com password\n* `securityToken`: (String:Optional) Your Salesforce security token.\nThis will be appended to your password if this property is set.\n* `assertion`: (String:Optional) A base64-encoded SAML assertion used\nin a SAML Bearer Assertion flow.\n* `executeOnRefresh`: (Boolean:Optional) If an onRefresh callback is\ndefined\nin the connection, run the callback. Default is false.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\n### refreshToken(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `assertion`: (String:Optional) A base64-encoded SAML assertion for use\nwith the SAML Bearer Assertion Flow. The assertion can also be supplied as\nproperty of the `oauth` hash.\n* `executeOnRefresh`: (Boolean:Optional) If an onRefresh callback is\ndefined\nin the connection, run the callback. Default is true.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\n### revokeToken(opts|token, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in multi-user\nmode\n* `token`: (String:Required) The oauth access_token or refresh_token\nyou want to revoke\n* `callbackParam`: (String:Optional) A callback parameter to be\nsupplied to the request for JSONP support\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\n### getPasswordStatus(opts|id, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in multi-user\nmode\n* `id`: (String:Optional) The id of the User. Required only if\n`sobject` is not defined\n* `sobject`: (String:Optional) The user sobject. Required only if\n`id` is not defined.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\n### updatePassword(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `newPassword`: (String:Required) The new password to be set for\nthe user.\n* `id`: (String:Optional) The id of the User. Required only if\n`sobject` is\nnot defined.\n* `sobject`: (String:Optional) The user sobject. Required only if\n`id` is not\ndefined.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\n## getIdentity(opts, [callback])\n\nopts:\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\n### getVersions([callback])\n\nopts:\n\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGets the salesforce versions. Note: Does not require authentication.\n\n### getResources(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGets the available salesforce resources\n\n### getSObjects(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet all sObjects for an org\n\n### getMetadata(opts|type, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `type`: (String:Required) The metadata type that is being requested\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet metadata for a single sObject. `type` is a required String\nfor the sObject type\n\n### getDescribe(opts|type, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `type`: (String:Required) The metadata type that is being requested\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet describe information for a single sObject. `type` is a required\nString for the sObject type\n\n### getLimits(opts|type, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n\nLists information about limits in your organization\n\n### insert(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Required) An sObject instance\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nInsert a record.\n\n### update(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Required) An sObject instance\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nUpdate a record.\n\n### upsert(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Required) An sObject instance\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nUpdate a record. NOTE: you must use the setExternalId() method to set\nthe external Id field and the value to match on.\n\n### delete(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Required) An sObject instance\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nDelete a record.\n\n### getRecord(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Optional) An sObject instance.\n* `fields`: (Array:Optional) An array of fields to return\n* `type:`: (String:Optional) A string value sObject type\n* `id`: (String:Optional) A string value for the sObject record id\n* `raw`: (Boolean:Optional) Tells nforce to return the raw\nresponse from Salesforce and skip the SObject wrapping. Default\nis false.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet a single record. You must supply either an `sobject` or `type`\nand `id`\n\n### getBody(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Optional) An sObject instance.\n* `type:`: (String:Optional) A string value sObject type\n* `id`: (String:Optional) A string value for the sObject record id\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet the binary data for an attachment, document, or contentversion.\nYou must supply either an `sobject` or `type` and `id`. The `sobject`\nmust be one of those three types.\n\n### getAttachmentBody(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Optional) An sObject instance.\n* `id`: (String:Optional) A string value for the sObject record id\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet the binary data for an attachment. You must supply either an\n`sobject` or an `id`.\n\n### getDocumentBody(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Optional) An sObject instance.\n* `id`: (String:Optional) A string value for the sObject record id\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet the binary data for a document. You must supply either an\n`sobject` or an `id`.\n\n### getContentVersionBody(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `sobject`: (Object:Optional) An sObject instance.\n* `id`: (String:Optional) A string value for the sObject record id\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet the binary data for a contentversion. You must supply either\nan `sobject` or an `id`.\n\n### query(opts|query, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `query`: (String:Required) An query string\n* `includeDeleted`: (Boolean:Optional) Query also deleted records.\nDefault is false.\n* `raw`: (Boolean:Optional) Tells nforce to return the raw\nresponse from Salesforce and skip the SObject wrapping.\nDefault is false.\n* `fetchAll`: (Boolean:Optional) Specifying fetchAll to true tells\nnforce to recursively query to get all possible returned records.\nDefault is false.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nExecute a SOQL query for records.\n\n### queryAll(opts|query, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `query`: (String:Required) An query string\n* `raw`: (Boolean:Optional) Tells nforce to return the raw response\nfrom Salesforce and skip the SObject wrapping. Default is false.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nSame as query but includes deleted records.\n\n### search(opts|search, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `search`: (String:Required) An search string\n* `raw`: (Boolean:Optional) Tells nforce to return the raw response\nfrom Salesforce and skip the SObject wrapping. Default is false.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nExecute a SOSL search for records. `search` should be a SOSL string.\n\n### getUrl(opts|url, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `url`: (String:Required) An url string for an api resource\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nGet a REST API resource by its url.\n\n### createStreamClient(opts)\n\nopts:\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `timeout`: (Integer:Optional) The timeout in seconds to pass to\nthe Faye client\n* `retry`: (Integer:Optional) The retry interval to pass to the\nFaye client\n\nCreates and returns a streaming api client object. See the *Streaming\nClient* section for more details on the client object that is\nreturned from this method.\n\n### subscribe|stream(opts)\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `topic`: (String:Required) An string value for the streaming topic\n* `isSystem`: (Boolean:Optional) Specify `true` if the topic to be\nstreamed is a SystemTopic\n* `timeout`: (Integer:Optional) The timeout in seconds to pass to\nthe Faye client\n* `retry`: (Integer:Optional) The retry interval to pass to the\nFaye client\n\nCreates and returns a streaming api subscription object. See the\n*Streaming Subscription* section for more details on the\nsubscription object that is returned from this method.\n\n### apexRest(opts|uri, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `uri`: (String:Required) A string value for endpoint. Should\nnot include '/services/apexrest'\n* `method`: (String:Optional) String method that defaults to GET if\nnot supplied\n* `urlParams`: (Object|String:Optional) A hash or url params to\nadd to the request\n* `body`: (Object:Optional) The optional JSON body for the request.\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nThis method handles integration with salesforce ApexRest\n(Custom Rest endpoints)\nhttp://wiki.developerforce.com/page/Creating_REST_APIs_using_Apex_REST\n\n## autoRefreshToken(opts, [callback])\n\nopts:\n\n* `oauth`: (Object:Optional) The oauth object. Required in\nmulti-user mode\n* `requestOpts`: (Object:Optional) Optional hash of parameters to\npass to the underlying request.\n\nAuto-refresh the current access token. Works with refresh tokens\nand also if using username/password in single user mode\n\n## Streaming Client\n\nThe streaming Client object represents a streaming client created\nfrom the connections `createStreamClient()` method. The Streaming\nClient emits several events:\n\nevents:\n\n* `connect`: Emits when the clients transport is up\n* `disconnect`: Emits when the clients transport is down\n\n### subscribe(opts)\n\nopts:\n\n* `topic`: (String:Required) An string value for the streaming topic\n* `isSystem`: (Boolean:Optional) Specify `true` if the topic to be\nstreamed is a SystemTopic\n\nCreates and returns a streaming api subscription object. See the\n*Streaming Subscription Methods* section for more details on the\nsubscription object.\n\n### disconnect()\n\nDisconnects the streaming client and will close all subscriptions\n\n## Streaming Subscription\n\nThe Subscription object represents a subscription created from the\nstreaming Client by calling `client.subscribe()`. This object emits\nseveral events.\n\nevents:\n\n* `connect`: Emits when the subscription becomes active.\n* `error`: Emits an error object when the subscription encounters\nan error\n* `data`: Emits a data object when the subscription receives an event\n\n### cancel()\n\nCancels the subscription. This does not close the client.\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/kevinohara80/nforce",
  "_id": "nforce@1.5.0",
  "_shasum": "c8717818134af5f6433b2b4a02fe8ea4d939cced",
  "_resolved": "https://github.com/jthurst01/nforce/tarball/master",
  "_from": "https://github.com/jthurst01/nforce/tarball/master"
}
